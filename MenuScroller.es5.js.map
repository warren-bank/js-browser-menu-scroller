{"version":3,"sources":["MenuScroller.js"],"names":[],"mappings":"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","file":"MenuScroller.es5.js","sourcesContent":["{\n  // --------------------------------------------------------------------------- data structures\n\n  const defaults = {\n    bind: {\n      options: {\n        container:       null,  // Element or Window\n        performScroll:   true,\n        smoothScroll:    true\n      }\n    },\n    affix: {\n      position: 0,\n      options: {\n        container:       null,  // Element or Window\n      }\n    }\n  }\n\n  const states = {\n    bind:  [],\n    affix: []\n  }\n\n  const scroll_timers = {}  // container (Element or Window) => timeout timer\n\n  let scroll_timers_debounce_ms = 500\n\n  // --------------------------------------------------------------------------- data views\n\n  const filter_states_by_container = (unfiltered_states, container) => {\n    if (!(container instanceof Element))\n      container = window\n\n    return unfiltered_states.filter(state => (state && (state.options.container === container)))\n  }\n\n  const get_bound_states = (container) => filter_states_by_container(states.bind, container)\n\n  const get_affix_states = (container) => filter_states_by_container(states.affix, container)\n\n  // --------------------------------------------------------------------------- helper methods to detect the position of an element relative to its container\n\n  const get_element_style_int = (style, name, default_value=0) => {\n    const value = parseInt(style[name], 10)\n\n    return isNaN(value)\n      ? default_value\n      : value\n  }\n\n  // returns a calculated \"rect\" object\n  // when input is a pre-calculated \"rect\" object, unmodified value is immediately returned\n  const get_element_bounding_rect = (element) => {\n    if   (element instanceof Window)   return null\n    if   (element instanceof Document) return null\n    if (!(element instanceof Element)) return element\n\n    const style = getComputedStyle(element)\n    const $rect = element.getBoundingClientRect()\n    const  rect = {\n      top:    $rect.top,\n      left:   $rect.left,\n      bottom: $rect.bottom,\n      right:  $rect.right\n    }\n\n    rect.top    += get_element_style_int(style, 'paddingTop',    0)\n    rect.left   += get_element_style_int(style, 'paddingLeft',   0)\n    rect.bottom -= get_element_style_int(style, 'paddingBottom', 0)\n    rect.right  -= get_element_style_int(style, 'paddingRight',  0)\n\n    return rect\n  }\n\n  // input can either be DOM elements, or pre-calculated \"rect\" objects\n  const is_element_fully_visible_in_viewport = (element, container) => {\n    const rect_element   = get_element_bounding_rect(element)\n    const rect_container = get_element_bounding_rect(container)\n\n    if (!rect_element) return false\n\n    let ok = (\n         (rect_element.top    >= 0)\n      && (rect_element.bottom <= (window.innerHeight || document.documentElement.clientHeight))\n    )\n\n    if (ok && rect_container) {\n      ok = (\n           (rect_element.top    >= rect_container.top)\n        && (rect_element.bottom <= rect_container.bottom)\n      )\n    }\n\n    return ok\n  }\n\n  // input can either be DOM elements, or pre-calculated \"rect\" objects\n  const is_element_partly_visible_in_viewport = (element, container) => {\n    const rect_element   = get_element_bounding_rect(element)\n    const rect_container = get_element_bounding_rect(container)\n\n    if (!rect_element) return false\n\n    let ok = (\n         (rect_element.top    < 0)\n      && (rect_element.bottom > 0)\n    ) || (\n         (rect_element.top    < (window.innerHeight || document.documentElement.clientHeight))\n      && (rect_element.bottom > (window.innerHeight || document.documentElement.clientHeight))\n    )\n\n    if (rect_container) {\n      ok = ok || (\n           (rect_element.top    >= 0)\n        && (rect_element.bottom <= (window.innerHeight || document.documentElement.clientHeight))\n      )\n\n      ok = ok && (\n           (rect_element.top    < rect_container.top)\n        && (rect_element.bottom > rect_container.top)\n      ) || (\n           (rect_element.top    < rect_container.bottom)\n        && (rect_element.bottom > rect_container.bottom)\n      )\n    }\n\n    return ok\n  }\n\n  // input can either be DOM elements, or pre-calculated \"rect\" objects\n  const is_element_above_viewport = (element) => {\n    const rect_element = get_element_bounding_rect(element)\n\n    if (!rect_element) return false\n\n    return (\n         (rect_element.top    < 0)\n      && (rect_element.bottom < 0)\n    )\n  }\n\n  // input can either be DOM elements, or pre-calculated \"rect\" objects\n  const is_element_below_viewport = (element) => {\n    const rect_element = get_element_bounding_rect(element)\n\n    if (!rect_element) return false\n\n    return (\n         (rect_element.top    > (window.innerHeight || document.documentElement.clientHeight))\n      && (rect_element.bottom > (window.innerHeight || document.documentElement.clientHeight))\n    )\n  }\n\n  // input can either be DOM elements, or pre-calculated \"rect\" objects\n  const is_element_above_container = (element, container) => {\n    const rect_element   = get_element_bounding_rect(element)\n    const rect_container = get_element_bounding_rect(container)\n\n    if (!rect_element || !rect_container) return false\n\n    return (\n         (rect_element.top    < rect_container.top)\n      && (rect_element.bottom < rect_container.top)\n    )\n  }\n\n  // input can either be DOM elements, or pre-calculated \"rect\" objects\n  const is_element_below_container = (element, container) => {\n    const rect_element   = get_element_bounding_rect(element)\n    const rect_container = get_element_bounding_rect(container)\n\n    if (!rect_element || !rect_container) return false\n\n    return (\n         (rect_element.top    > rect_container.bottom)\n      && (rect_element.bottom > rect_container.bottom)\n    )\n  }\n\n  // input can either be DOM elements, or pre-calculated \"rect\" objects\n  const get_element_position_relative_to_container = (element, container) => {\n    const rect_element   = get_element_bounding_rect(element)\n    const rect_container = get_element_bounding_rect(container)\n\n    const result = {\n      fully_visible:   false,\n      partly_visible:  false,\n      above_viewport:  false,\n      below_viewport:  false,\n      above_container: false,\n      below_container: false\n    }\n\n    if (is_element_fully_visible_in_viewport(rect_element, rect_container)) {\n      result.fully_visible = true\n      return result\n    }\n\n    if (is_element_partly_visible_in_viewport(rect_element, rect_container)) {\n      result.partly_visible = true\n      return result\n    }\n\n    if (is_element_above_viewport(rect_element)) {\n      result.above_viewport = true\n      return result\n    }\n\n    if (is_element_below_viewport(rect_element)) {\n      result.below_viewport = true\n      return result\n    }\n\n    if (is_element_above_container(rect_element, rect_container)) {\n      result.above_container = true\n      return result\n    }\n\n    if (is_element_below_container(rect_element, rect_container)) {\n      result.below_container = true\n      return result\n    }\n\n    return result\n  }\n\n  // --------------------------------------------------------------------------- scroll event handler (reused by all containers)\n\n  const process_bound_scrollEvent = (state) => {\n    const {menuElements, markerElements, cssClass, options} = state\n\n    let active_marker = 0\n\n    for (let i=0; i < markerElements.length; i++) {\n      const marker = markerElements[i]\n\n      const {\n        above_viewport,\n        above_container,\n        partly_visible,\n        fully_visible\n      } = get_element_position_relative_to_container(marker, options.container)\n\n      const active = (above_viewport || above_container || partly_visible || fully_visible)\n\n      if (active)\n        active_marker = i\n    }\n\n    for (let i=0; i < menuElements.length; i++) {\n      const menuitem = menuElements[i]\n      const hasClass = menuitem.classList.contains(cssClass)\n\n      if (hasClass && (i !== active_marker))\n        menuitem.classList.remove(cssClass)\n      else if (!hasClass && (i === active_marker))\n        menuitem.classList.add(cssClass)\n    }\n  }\n\n  const process_affix_scrollEvent = (state) => {\n    const {menu, position, options} = state\n\n    let scrollTop = (options.container === window)\n      ? (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop)\n      : (options.container.scrollTop)\n\n    if ((typeof scrollTop !== 'number') || isNaN(scrollTop))\n      return\n\n    scrollTop += position\n\n    menu.style.position = 'relative'\n    menu.style.top      = `${scrollTop}px`\n  }\n\n  const scrollEventHandler = (container) => {\n    if (!(container instanceof Element))\n      container = window\n\n    const bound_states = get_bound_states(container)\n    bound_states.forEach(process_bound_scrollEvent)\n\n    const affix_states = get_affix_states(container)\n    affix_states.forEach(process_affix_scrollEvent)\n  }\n\n  const scrollEventDebouncer = (event) => {\n    let container = event.target\n\n    if (!(container instanceof Element))\n      container = window\n\n    if (scroll_timers[container]) return\n\n    scroll_timers[container] = setTimeout(() => {\n      scrollEventHandler(container)\n\n      scroll_timers[container] = null\n    }, scroll_timers_debounce_ms)\n  }\n\n  const countScrollEventListeners = (container) => {\n    return get_bound_states(container).length + get_affix_states(container).length\n  }\n\n  // important: call BEFORE adding to global state\n  const addScrollEventListener = (container) => {\n    if (countScrollEventListeners(container) > 0)\n      return\n\n    if (!(container instanceof Element))\n      container = document\n\n    container.addEventListener('scroll', scrollEventDebouncer)\n  }\n\n  // important: call AFTER adding to global state\n  const removeScrollEventListener = (container) => {\n    if (countScrollEventListeners(container) > 0)\n      return\n\n    if (!(container instanceof Element))\n      container = document\n\n    container.removeEventListener('scroll', scrollEventDebouncer)\n  }\n\n  // --------------------------------------------------------------------------- click event handler (reused by all menuElements)\n\n  const find_menuitem_match = (menuitem) => {\n    let match\n\n    for (let i=0; i < states.bind.length; i++) {\n      const state = states.bind[i]\n\n      if (!state)\n        continue\n\n      if (!state.options.performScroll)\n        continue\n\n      const index = state.menuElements.indexOf(menuitem)\n\n      if (index === -1)\n        continue\n\n      match = {state, index}\n      break\n    }\n\n    return match\n  }\n\n  const find_menuitem_marker = (match) => {\n    return (match)\n      ? match.state.markerElements[match.index]\n      : null\n  }\n\n  const clickEventHandler = (event) => {\n    const menuitem = event.target\n\n    if (!(menuitem instanceof Element))\n      return\n\n    const match  = find_menuitem_match(menuitem)\n    const marker = find_menuitem_marker(match)\n\n    if (!marker)\n      return\n\n    marker.scrollIntoView({\n      block:    'start',\n      behavior: (match.state.options.smoothScroll) ? 'smooth' : 'auto'\n    })\n  }\n\n  const addClickEventListener = (menuElements, options) => {\n    if (!options.performScroll)\n      return\n\n    menuElements.forEach(menuitem => {\n      menuitem.addEventListener('click', clickEventHandler)\n    })\n  }\n\n  const removeClickEventListener = (menuElements, options) => {\n    if (!options.performScroll)\n      return\n\n    menuElements.forEach(menuitem => {\n      menuitem.removeEventListener('click', clickEventHandler)\n    })\n  }\n\n  // --------------------------------------------------------------------------- public API (private)\n\n  // return id\n  const bind = (menuElements, markerElements, cssClass, options={}) => {\n    // resolve CSS selectors\n    if (typeof menuElements === 'string')\n      menuElements = [...document.querySelectorAll(menuElements)]\n    if (typeof markerElements === 'string')\n      markerElements = [...document.querySelectorAll(markerElements)]\n\n    // validate array lengths\n    if (!Array.isArray(menuElements) || !menuElements.length)\n      throw new Error('invalid input: menuElements')\n    if (!Array.isArray(markerElements) || !markerElements.length)\n      throw new Error('invalid input: markerElements')\n    if (menuElements.length !== markerElements.length)\n      throw new Error('invalid input: menuElements and markerElements array lengths differ')\n\n    // validate css class\n    if (!cssClass || (typeof cssClass !== 'string'))\n      throw new Error('invalid input: cssClass')\n\n    const state = {\n      menuElements,\n      markerElements,\n      cssClass,\n      options: {...defaults.bind.options, ...options}\n    }\n\n    if (!(state.options.container instanceof Element))\n      state.options.container = window\n\n    addScrollEventListener(state.options.container)\n    addClickEventListener(state.menuElements, state.options)\n\n    const id = states.bind.length\n    states.bind.push(state)\n\n    return id\n  }\n\n  const unbind = (id) => {\n    if (states.bind.length > id) {\n      const state = states.bind[id]\n\n      if (state) {\n        states.bind[id] = null\n\n        removeScrollEventListener(state.options.container)\n        removeClickEventListener(state.menuElements, state.options)\n      }\n    }\n\n    return null\n  }\n\n  // return id\n  const affix = (menu, position, options={}) => {\n    // resolve CSS selectors\n    if (typeof menu === 'string')\n      menu = document.querySelector(menu)\n\n    // validate menu\n    if (!(menu instanceof Element))\n      throw new Error('invalid input: menu')\n\n    const state = {\n      menu,\n      position: ((typeof position === 'number') && (position >= 0)) ? position : defaults.affix.position,\n      options:  {...defaults.affix.options, ...options}\n    }\n\n    if (!(state.options.container instanceof Element))\n      state.options.container = window\n\n    addScrollEventListener(state.options.container)\n\n    const id = states.affix.length\n    states.affix.push(state)\n\n    return id\n  }\n\n  const unaffix = (id) => {\n    if (states.affix.length > id) {\n      const state = states.affix[id]\n\n      if (state) {\n        states.affix[id] = null\n\n        removeScrollEventListener(state.options.container)\n      }\n    }\n\n    return null\n  }\n\n  const debounce = (debounce_ms) => {\n    if ((typeof debounce_ms === 'number') && (debounce_ms >= 0))\n      scroll_timers_debounce_ms = debounce_ms\n  }\n\n  // --------------------------------------------------------------------------- public API (public)\n\n  window.MenuScroller = {\n    bind,\n    unbind,\n    affix,\n    unaffix,\n    debounce\n  }\n\n  // ---------------------------------------------------------------------------\n}\n"]}